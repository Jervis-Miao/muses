<?xml version="1.0" encoding="UTF-8"?>
<Server port="${tomcat.server.shutdownPort}" shutdown="SHUTDOWN">
    <Listener className="org.apache.catalina.startup.VersionLoggerListener"/>
    <Listener className="org.apache.catalina.core.ThreadLocalLeakPreventionListener"/>
    <Service name="Catalina">
        <Executor name="tomcatThreadPool" namePrefix="catalina-exec-" maxThreads="300" minSpareThreads="25"/>
        <Connector port="${tomcat.connector.port}" protocol="HTTP/1.1" connectionTimeout="30000" acceptCount="500"
                   executor="tomcatThreadPool"
                   processorCache="300" bindOnInit="false"/>
        <Engine name="localhost" defaultHost="localhost">
            <Host name="localhost" createDirs="false" appBase="${tomcat.host.appBase}" unpackWARs="false"
                  autoDeploy="false"
                  deployOnStartup="false" failCtxIfServletStartFails="true">
                <Context path="/" docBase="${tomcat.context.docBase}" reloadable="false" logEffectiveWebXml="false"
                         privileged="false"
                         swallowOutput="false" workDir="${catalina.base}/work">
                    <JarScanner>
                        <JarScanFilter pluggabilitySkip="*.jar" pluggabilityScan=""
                                       defaultPluggabilityScan="true" tldSkip="*.jar"
                                       tldScan="" defaultTldScan="true"/>
                    </JarScanner>
                </Context>
            </Host>
            <Cluster className="org.apache.catalina.ha.tcp.SimpleTcpCluster" channelSendOptions="8">
                <Manager className="org.apache.catalina.ha.session.DeltaManager"
                         expireSessionsOnShutdown="false"
                         notifyListenersOnReplication="true"/>
                <Channel className="org.apache.catalina.tribes.group.GroupChannel">
                    <Membership className="org.apache.catalina.tribes.membership.McastService"
                                address="228.0.0.4"
                                port="45564"
                                frequency="500"
                                dropTime="3000"/>
                    <Receiver className="org.apache.catalina.tribes.transport.nio.NioReceiver"
                              address="auto"
                              port="4000"
                              autoBind="100"
                              selectorTimeout="5000"
                              maxThreads="6"/>
                    <Sender className="org.apache.catalina.tribes.transport.ReplicationTransmitter">
                        <Transport className="org.apache.catalina.tribes.transport.nio.PooledParallelSender"/>
                    </Sender>
                    <Interceptor className="org.apache.catalina.tribes.group.interceptors.TcpFailureDetector"/>
                    <Interceptor className="org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor"/>
                </Channel>

                <Valve className="org.apache.catalina.ha.tcp.ReplicationValve" filter=""/>
                <Valve className="org.apache.catalina.ha.session.JvmRouteBinderValve"/>
                <Deployer className="org.apache.catalina.ha.deploy.FarmWarDeployer"
                          tempDir="/tmp/war-temp/"
                          deployDir="/tmp/war-deploy/"
                          watchDir="/tmp/war-listen/"
                          watchEnabled="false"/>
                <ClusterListener className="org.apache.catalina.ha.session.ClusterSessionListener"/>
            </Cluster>
        </Engine>
    </Service>
</Server>

